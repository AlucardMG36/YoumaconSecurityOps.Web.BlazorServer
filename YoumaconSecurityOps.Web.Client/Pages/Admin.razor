@page "/admin"

<Container Fluid>
    <Row>
        <Column ColumnSize="ColumnSize.Is8">
            <DropContainer TItem="StaffReader" Items="@_staff.ToList()" Flex="Flex.Wrap.Grow.Is1">
                <ChildContent>
                    <Repeater TItem="LocationReader" Items="_locations" Context="locationsContext">
                        <DropZone TItem="LocationReader" Name="@locationsContext.Id.ToString()" Border="Border.Rounded" Background="Background.Light" Padding="Padding.Is3" Margin="Margin.Is3" Flex="Flex.Grow.Is1">
                            <Heading Size="HeadingSize.Is4" Margin="Margin.Is3.FromBottom">@locationsContext.Name</Heading>
                        </DropZone>
                    </Repeater>
                </ChildContent>
                <ItemTemplate>
                    <Card Shadow="Shadow.Default" Margin="Margin.Is3.OnY">
                        <CardBody>
                            <Blazorise.Icon Name="@IconName.UserPlus" Style="width:48px;height:48px;" />
                            @context.Contact.PreferredName
                        </CardBody>
                    </Card>
                </ItemTemplate>
            </DropContainer>
        </Column>
        <Column ColumnSize="ColumnSize.IsThird">
            <ListGroup Flush>
                <Repeater TItem="LocationReader" Items="_locations" Context="locationContext">
                    <ListGroupItem Flex="Flex.JustifyContent.Between.AlignItems.Center">
                        @locationContext.Name
                        <Badge Color="Color.Primary" Pill>@_shifts.Count(sh => sh.CurrentLocationId == locationContext.Id)</Badge>
                    </ListGroupItem>
                </Repeater>
            </ListGroup>
        </Column>
    </Row>
</Container>